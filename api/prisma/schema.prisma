generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id       String    @id @default(uuid())
  name     String
  email    String    @unique
  password String
  createAt DateTime  @default(now())
  updateAt DateTime  @updatedAt
  places   Place[]
  bookings Booking[]
}

model Place {
  id          String       @id @default(uuid())
  owner       User         @relation(fields: [ownerId], references: [id])
  ownerId     String
  title       String
  address     String
  photos      PlacePhoto[]
  description String
  perks       PlacePerk[]
  extraInfo   String
  checkIn     String
  checkOut    String
  maxGuests   Int
  price       Int
  bookings    Booking[]
}

model PlacePhoto {
  id      String @id @default(uuid())
  url     String
  place   Place  @relation(fields: [placeId], references: [id])
  placeId String
}

model PlacePerk {
  id      String @id @default(uuid())
  perk    String
  place   Place  @relation(fields: [placeId], references: [id])
  placeId String
}

model Booking {
  id             String   @id @default(uuid())
  place          Place    @relation(fields: [placeId], references: [id])
  placeId        String
  renter         User     @relation(fields: [renterId], references: [id])
  renterId       String
  checkIn        DateTime
  checkOut       DateTime
  numberOfGuests Int
  name           String
  phone          String
  price          Int
}
